<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from talos_common.urdf.xacro        | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Author: Devon Ash -->
<!-- Maintainer: noobaca2@gmail.com -->
<robot name="talos" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- TODO: Future includes for simulator for talos. These are used for gazebo simulations and not required for the physical robot. 
  <xacro:include filename="$(find pr2_description)/urdf/torso_v0/torso.gazebo.xacro" />
  <xacro:include filename="$(find pr2_description)/urdf/torso_v0/torso.transmission.xacro" />
  <xacro:include filename="$(find pr2_description)/urdf/sensors/microstrain_3dmgx2_imu.urdf.xacro" />
-->
  <!--                                               -->
  <!--                 INCLUDED XACROS               -->
  <!--                                               -->
  <link name="talos_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0 0 0"/>
      </geometry>
    </visual>
  </link>
  <joint name="talos_base_link_hack" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="talos_base"/>
    <child link="talos_base_link"/>
  </joint>
  <joint name="talos_base_laser_joint" type="fixed">
    <axis xyz="0 1 0"/>
    <origin rpy="0 0 0" xyz="0 0.15 0.3"/>
    <parent link="talos_base_link"/>
    <child link="talos_base_laser_link"/>
  </joint>
  <link name="talos_base_laser_link" type="laser">
    <inertial>
      <mass value="0.001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.0001"/>
    </inertial>
  </link>
  <gazebo reference="talos_base_laser_link">
    <sensor name="talos_base_laser" type="ray">
      <always_on>true</always_on>
      <update_rate>20</update_rate>
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <ray>
        <scan>
          <horizontal>
            <samples>640</samples>
            <resolution>1</resolution>
            <min_angle>-2.2689</min_angle>
            <max_angle>2.2689</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.08</min>
          <max>10.0</max>
          <resolution>0.01</resolution>
        </range>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_talos_base_laser_controller">
        <gaussianNoise>0.005</gaussianNoise>
        <alwaysOn>true</alwaysOn>
        <updateRate>20</updateRate>
        <topicName>base_scan</topicName>
        <frameName>talos_base_laser_link</frameName>
        <hokuyoMinIntensity>101</hokuyoMinIntensity>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="talos_base_laser_simulator_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="talos_base_laser_link"/>
    <child link="talos_base_laser_simulator_link"/>
  </joint>
  <link name="talos_base_laser_simulator_link">
    <inertial>
      <mass value="0.01"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.05 0.1"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.05 0.1"/>
      </geometry>
    </collision>
  </link>
  <!-- Use the macros defined in the xacro above to define actual urdf -->
  <!--                                               -->
  <!--                 COMMON CONSTANTS              -->
  <!--                                               -->
  <!-- TODO: Measure proper offsets for talos torso -->
  <!-- VALUE: Torso height/2 + base height -->
  <!-- TODO: Measure proper offsets for taloshead -->
  <!--                                               -->
  <!--                 TALOS  DEFINITION             -->
  <!--                                               -->
  <!-- Creates the talos base and the wheels attached to it -->
  <link name="talos_base">
    <!-- TODO: Jordan to put proper values for the xml below
	<inertial>
        <mass value="${talos_base_mass}" />
        <origin xyz="${talos_base_cg_x} ${talos_base_cg_y} ${talos_base_cg_z}" />
        <inertia ixx="5.652232699207" ixy="-0.009719934438" ixz="1.293988226423"
                 iyy="5.669473158652" iyz="-0.007379583694" izz="3.683196351726" />
      </inertial>
      -->
    <visual>
      <!-- TODO: Replace with .dae file -->
      <geometry>
        <box size="0.6 0.6 0.3"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- TODO: Replace with .stl file -->
      <material name="white">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <!-- TODO: Add collisions
   <collision>

        <origin xyz="0 0 0" rpy="0 0 0" />
	 TODO: Replace with .stl file 
        <geometry>
          <mesh filename="package://pr2_description/meshes/base_v0/base_L.stl" />
        </geometry> 

      </collision>
    -->
  </link>
  <link name="talos_base_footprint">
    <inertial>
      <mass value="1.0"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.01 0.01 0.01"/>
      </geometry>
      <material name="White"/>
    </visual>
    <collision>
      <!--represent base collision with a simple rectangular model, positioned by base_size_z s.t. top
surface of the collision box matches the top surface of the PR2 base -->
      <origin rpy="0 0 0" xyz="0 0 0.051"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="talos_base_footprint_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.051"/>
    <child link="talos_base"/>
    <parent link="talos_base_footprint"/>
  </joint>
  <joint name="talos_base_fl_wheel_joint" type="continuous">
    <parent link="talos_base"/>
    <child link="talos_base_fl_wheel_link"/>
    <origin rpy="0 1.57 0" xyz="0.15 0.15 -0.15"/>
    <axis xyz="0 1 0"/>
    <limit effort="7" velocity="15"/>
    <!-- alpha tested effort and velocity limits -->
    <safety_controller k_velocity="10"/>
    <dynamics damping="1.0" friction="0.0"/>
  </joint>
  <link name="talos_base_fl_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0761"/>
      </geometry>
      <!-- TODO: Add correct meshes for wheels -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/base_v0/wheel.dae" />
        </geometry> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
      <!-- TODO: Add correct collision values or close approximations -->
      <!-- 

	<collision>
		 <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" /> 
		 <geometry>
		   <cylinder radius="${wheel_radius}" length="${wheel_length}" />
		 </geometry>
       </collision> 
	-->
    </visual>
    <!-- TODO: Jordan, please initialize these to correct approximations -->
    <!-- 
	<inertial>
        <mass value="0.44036" />
        <origin xyz="0 0 0" />
        <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983"
                  iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943" />
      </inertial>
       -->
  </link>
  <joint name="talos_base_fr_wheel_joint" type="continuous">
    <parent link="talos_base"/>
    <child link="talos_base_fr_wheel_link"/>
    <origin rpy="0 1.57 0" xyz="-0.15 0.15 -0.15"/>
    <axis xyz="0 1 0"/>
    <limit effort="7" velocity="15"/>
    <!-- alpha tested effort and velocity limits -->
    <safety_controller k_velocity="10"/>
    <dynamics damping="1.0" friction="0.0"/>
  </joint>
  <link name="talos_base_fr_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0761"/>
      </geometry>
      <!-- TODO: Add correct meshes for wheels -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/base_v0/wheel.dae" />
        </geometry> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
      <!-- TODO: Add correct collision values or close approximations -->
      <!-- 

	<collision>
		 <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" /> 
		 <geometry>
		   <cylinder radius="${wheel_radius}" length="${wheel_length}" />
		 </geometry>
       </collision> 
	-->
    </visual>
    <!-- TODO: Jordan, please initialize these to correct approximations -->
    <!-- 
	<inertial>
        <mass value="0.44036" />
        <origin xyz="0 0 0" />
        <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983"
                  iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943" />
      </inertial>
       -->
  </link>
  <joint name="talos_base_bl_wheel_joint" type="continuous">
    <parent link="talos_base"/>
    <child link="talos_base_bl_wheel_link"/>
    <origin rpy="0 1.57 0" xyz="0.15 -0.15 -0.15"/>
    <axis xyz="0 1 0"/>
    <limit effort="7" velocity="15"/>
    <!-- alpha tested effort and velocity limits -->
    <safety_controller k_velocity="10"/>
    <dynamics damping="1.0" friction="0.0"/>
  </joint>
  <link name="talos_base_bl_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0761"/>
      </geometry>
      <!-- TODO: Add correct meshes for wheels -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/base_v0/wheel.dae" />
        </geometry> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
      <!-- TODO: Add correct collision values or close approximations -->
      <!-- 

	<collision>
		 <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" /> 
		 <geometry>
		   <cylinder radius="${wheel_radius}" length="${wheel_length}" />
		 </geometry>
       </collision> 
	-->
    </visual>
    <!-- TODO: Jordan, please initialize these to correct approximations -->
    <!-- 
	<inertial>
        <mass value="0.44036" />
        <origin xyz="0 0 0" />
        <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983"
                  iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943" />
      </inertial>
       -->
  </link>
  <joint name="talos_base_br_wheel_joint" type="continuous">
    <parent link="talos_base"/>
    <child link="talos_base_br_wheel_link"/>
    <origin rpy="0 1.57 0" xyz="-0.15 -0.15 -0.15"/>
    <axis xyz="0 1 0"/>
    <limit effort="7" velocity="15"/>
    <!-- alpha tested effort and velocity limits -->
    <safety_controller k_velocity="10"/>
    <dynamics damping="1.0" friction="0.0"/>
  </joint>
  <link name="talos_base_br_wheel_link">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0761"/>
      </geometry>
      <!-- TODO: Add correct meshes for wheels -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/base_v0/wheel.dae" />
        </geometry> -->
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="black">
        <color rgba="0 0 0 1"/>
      </material>
      <!-- TODO: Add correct collision values or close approximations -->
      <!-- 

	<collision>
		 <origin xyz="0 0 0" rpy="${M_PI/2} 0 0" /> 
		 <geometry>
		   <cylinder radius="${wheel_radius}" length="${wheel_length}" />
		 </geometry>
       </collision> 
	-->
    </visual>
    <!-- TODO: Jordan, please initialize these to correct approximations -->
    <!-- 
	<inertial>
        <mass value="0.44036" />
        <origin xyz="0 0 0" />
        <inertia ixx="0.012411765597" ixy="-0.000711733678" ixz="0.00050272983"
                  iyy="0.015218160428" iyz="-0.000004273467" izz="0.011763977943" />
      </inertial>
       -->
  </link>
  <!-- Creates the talos torso -->
  <joint name="torso_rotating_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="talos_base"/>
    <child link="torso_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.5"/>
    <!-- TODO: Set appropriate values for these -->
    <limit effort="10" velocity="15"/>
    <!-- alpha tested effort and velocity limits -->
    <!-- TODO: Set appropriate values for these -->
    <safety_controller k_velocity="10"/>
    <dynamics damping="0" friction="0"/>
  </joint>
  <link name="torso_link">
    <!-- TODO: Set appropriate values for these -->
    <!--
 <inertial>
        <mass value="${torso_mass}" />
        <origin xyz="-0.1 0 -0.0885" />
        <inertia ixx="2.771653750257" ixy="0.004284522609" ixz="-0.160418504506"
                 iyy="2.510019507959" iyz="0.029664468704" izz="0.526432355569" />
      </inertial>
-->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- TODO: Add the correct .dae path for geometry -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/torso_v0/torso_lift.dae" />
        </geometry>
	 -->
      <!-- Temporary, because we will be using the .dae -->
      <geometry>
        <box size="0.4  0.4 1.0"/>
      </geometry>
      <material name="white">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <!-- TODO: Add collision .stl file 
	<collision name="${name}_collision">
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://pr2_description/meshes/torso_v0/torso_lift_L.stl" />
        </geometry>
      </collision>
	-->
  </link>
  <!-- Instantiates the upper arm of talos -->
  <joint name="left_shoulder_joint" type="fixed">
    <!-- TODO: Add proper values for xyz -->
    <!-- Note: Crude approximation of physical robot -->
    <parent link="torso_link"/>
    <child link="left_shoulder_link"/>
    <origin rpy="0 0 1.57" xyz="0.25 0.1 0.39"/>
  </joint>
  <link name="left_shoulder_link">
    <!-- TODO: Jordan start -->
    <!-- TODO Jordan: Please fill in the required values specified by "0" or near approximations -->
    <inertial>
      <mass value="10"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <!-- TODO: Jordan end -->
    <!-- TODO: Someone? Not sure how these are done yet. -->
    <!-- <collision>
		<origin xyz="0 0 0" rpy="0 0 0" />
		<geometry>
		  <mesh filename="package://pr2_description/meshes/upper_arm_v0/elbow_flex.stl" /> 
		</geometry>
	</collision> -->
    <visual>
      <geometry>
        <box size="0.2 0.1 0.22"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- TODO: Add meshes -->
      <!-- TODO: Add .dae material file -->
      <material name="white">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
  </link>
  <joint name="left_shoulder_to_upper_left_arm_joint" type="revolute">
    <!-- Note: Crude approximation of the joint, this is not the exact connecting joint location -->
    <parent link="left_shoulder_link"/>
    <child link="left_upper_arm_link"/>
    <origin rpy="1.57 0 0" xyz="0 -0.235 0"/>
    <!-- Note: Code template taken from PR2_upper_arm.urdf for templating -->
    <!-- Doc: axis of revolution -->
    <!-- TODO Jordan Start -->
    <!-- TODO Jordan: Please fill in the required values specified by "0" or near approximations -->
    <axis xyz="0 1 0"/>
    <!-- TODO Jordan: lower rotation degree w.r.t specified axis, same thing for upper. Effort is max force in newtons. Velocity is max velocity of joint. -->
    <limit effort="10" lower="-1.56" upper="-1.56" velocity="10"/>
    <!-- Note: PR2 Has safety controller, not sure what it's for yet or what the values do-->
    <!-- <safety_controller k_position="100" k_velocity="3" soft_lower_limit="${-2.3213+0.2}" soft_upper_limit="${0.00-0.15}" /> -->
    <!-- Note: Jordan, do you know what this could be? -->
    <calibration falling="0"/>
    <!-- TODO: Jordan -->
    <dynamics damping="0"/>
    <!-- TODO: Jordan end -->
  </joint>
  <link name="left_upper_arm_link">
    <!-- TODO: Jordan start -->
    <!-- TODO Jordan: Please fill in the required values specified by "0" or near approximations -->
    <inertial>
      <mass value="0"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <!-- TODO: Jordan end -->
    <!-- TODO: Someone? Not sure how these are done yet. -->
    <!-- <collision>
		<origin xyz="0 0 0" rpy="0 0 0" />
		<geometry>
		TODO: Add .stl file for proper collision matrix
		   <mesh filename="package://pr2_description/meshes/upper_arm_v0/elbow_flex.stl" />
		</geometry>
	</collision> -->
    <visual>
      <geometry>
        <box size="0.47 0.2 0.22"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <!-- TODO: Add meshes -->
      <!-- TODO: Add .dae file for material mesh -->
      <material name="white">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
  </link>
  <!-- Instantiates talos head -->
  <joint name="head_pan_joint" type="continuous">
    <parent link="torso_link"/>
    <child link="head_pan_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="10"/>
    <!-- TODO: Not sure what this is -->
    <!--  <safety_controller k_velocity="${head_pan_safety_k_velocity}" /> -->
    <!-- TODO: set proper values first -->
    <!-- <dynamics damping="${head_pan_damping}" friction="${head_pan_friction}" /> -->
  </joint>
  <link name="head_pan_link">
    <!-- TODO: Fill in constants above related to inertia -->
    <!-- <inertial>
        <mass value="${head_pan_link_mass}" /> 
        <origin xyz="0 0 0" rpy="0 0 0" />
 	TODO: These are the incorrect inertias 
        <inertia ixx="0.032497592" ixy="0.00063604088" ixz="0.0025851534"
                 iyy="0.046545627" iyz="-0.0024534295" izz="0.057652724" />
      </inertial> -->
    <visual>
      <origin rpy="0 0 0 " xyz="0 0 0.0"/>
      <!-- TODO: Insert proper .dae file for the visual mesh -->
      <!-- <geometry>
          <mesh filename="package://pr2_description/meshes/head_v0/head_pan.dae" />
        </geometry> -->
      <!-- TODO: Approximation -->
      <geometry>
        <box size="0 0 0"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <!-- TODO: Insert the proper .stl file for collisions -->
    <!-- <collision>
        <geometry>
          <mesh filename="package://pr2_description/meshes/head_v0/head_pan_L.stl" />
        </geometry>
      </collision> -->
  </link>
  <joint name="head_tilt_joint" type="revolute">
    <axis xyz="0 1 0"/>
    <!-- TODO: Set proper values for the lower, upper, vel, and effort. They are fudge values atm -->
    <limit effort="10" lower="-1" upper="1" velocity="10"/>
    <safety_controller k_position="100" k_velocity="10" soft_lower_limit="-0.3712" soft_upper_limit="1.29626"/>
    <!-- TODO: What is calibration for? -->
    <!-- <calibration falling="${0.0+cal_head_tilt_flag}" /> -->
    <dynamics damping="10"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="head_pan_link"/>
    <child link="head_tilt_link"/>
  </joint>
  <link name="head_tilt_link">
    <!-- TODO: insert proper inertial values 
      <inertial>
        <mass value="${head_tilt_link_mass}" /> 
        <origin xyz="0.001716 -0.019556 0.055002" rpy="0 0 0" />
        <inertia ixx="0.024223222" ixy="0.00062063507" ixz="-0.000096909696"
                 iyy="0.054723086" iyz="0.00279702400"
                 izz="0.067306377" />
      </inertial> -->
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
      <!-- TODO: get .dae for proper geometry generation 
        <geometry>
          <mesh filename="package://pr2_description/meshes/head_v0/head_tilt.dae" />
        </geometry> -->
      <geometry>
        <!-- TODO: Proper values, these are fudged for sake of parsing -->
        <box size="0.1 0.1 0.1"/>
      </geometry>
      <material name="Green"/>
    </visual>
    <!-- TODO: get .stl for proper collision generation 
      <collision>
        <origin xyz="0 0 0" rpy="0.0 0.0 0.0" />

        <geometry>
          <mesh filename="package://pr2_description/meshes/head_v0/head_tilt_L.stl" />
        </geometry>
      </collision> -->
  </link>
  <!-- Instantiates the base laser -->
</robot>
